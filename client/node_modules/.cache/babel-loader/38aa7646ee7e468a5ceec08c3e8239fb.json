{"ast":null,"code":"var _jsxFileName = \"/root/Ismaelleon/client/src/routes/AdminPanel.js\";\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\n\nfunction AdminPanel() {\n  let [title, setTitle] = useState(''),\n      [date, setDate] = useState(''),\n      [githubURL, setGithubURL] = useState(''),\n      [tags, setTags] = useState('');\n  let [form, setForm] = useState(false);\n  let [projects, setProjects] = useState([]);\n  let [messages, setMessages] = useState([]);\n  useEffect(() => {\n    // Update Messages and Projects\n    getMessages();\n    getProjects();\n  }, []);\n\n  function getProjects() {\n    fetch('http://138.197.68.249:8080/admin/get_projects', {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json',\n        'Allow-Control-Allow-Origin': 'http://138.197.68.249:3000'\n      }\n    }).then(res => res.json()).then(res => {\n      setProjects(res.projects);\n    });\n  }\n\n  function getMessages() {\n    fetch('http://138.197.68.249:8080/admin/get_messages', {\n      method: 'POST',\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json',\n        'Allow-Control-Allow-Origin': 'http://138.197.68.249:3000'\n      }\n    }).then(res => res.json()).then(res => {\n      setMessages(res.messages);\n    });\n  }\n\n  function submitProject() {\n    fetch('http://138.197.68.249:8080/admin/new_project', {\n      method: 'POST',\n      body: JSON.stringify({\n        title: title,\n        date: date.slice(8) + \"/\" + date.slice(5, 7) + \"/\" + date.slice(0, 4),\n        githubURL: githubURL,\n        tags: tags\n      }),\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json',\n        'Allow-Control-Allow-Origin': 'http://138.197.68.249:3000'\n      }\n    }).then(() => {\n      getProjects();\n    });\n  }\n\n  function deleteProject(projectTitle) {\n    fetch('http://138.197.68.249:8080/admin/delete_project', {\n      method: 'POST',\n      body: JSON.stringify({\n        title: projectTitle\n      }),\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json',\n        'Allow-Control-Allow-Origin': 'http://183.197.68.249:3000'\n      }\n    }).then(res => res.json()).then(res => {\n      setProjects(res.projects);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AdminHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AdminTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, \"Admin Panel\")), /*#__PURE__*/React.createElement(AdminMain, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AdminButton, {\n    onClick: () => setForm(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, \"Nuevo Proyecto\"), /*#__PURE__*/React.createElement(AdminList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, projects.map((project, index) => /*#__PURE__*/React.createElement(AdminItem, {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontSize: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 33\n    }\n  }, project.title), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 33\n    }\n  }, project.date)), /*#__PURE__*/React.createElement(DeleteItem, {\n    onClick: () => deleteProject(project.title),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }\n  }, \"Borrar\")))), /*#__PURE__*/React.createElement(AdminList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, messages.map((message, index) => /*#__PURE__*/React.createElement(AdminItem, {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontSize: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 33\n    }\n  }, message.name), /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontSize: '18px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 33\n    }\n  }, message.message))))), /*#__PURE__*/React.createElement(AdminModal, {\n    style: form ? {\n      display: 'block'\n    } : {\n      display: 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ModalTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }, \"Nuevo Proyecto\"), /*#__PURE__*/React.createElement(ModalForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(AdminInput, {\n    onChange: e => setTitle(e.target.value),\n    type: \"text\",\n    placeholder: \"T\\xEDtulo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(AdminInput, {\n    onChange: e => setDate(e.target.value),\n    type: \"date\",\n    placeholder: \"Fecha\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(AdminInput, {\n    onChange: e => setGithubURL(e.target.value),\n    type: \"text\",\n    placeholder: \"Github URL\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(AdminInput, {\n    onChange: e => setTags(e.target.value),\n    type: \"text\",\n    placeholder: \"Tags\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(AdminButton, {\n    onClick: () => {\n      submitProject();\n      setForm(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  }, \"Guardar Proyecto\"), /*#__PURE__*/React.createElement(AdminButton, {\n    onClick: () => {\n      setForm(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 25\n    }\n  }, \"Cancelar\")))));\n}\n\nconst Container = styled.div`\n    width: 100%;\n    height: 100vh;\n`;\nconst AdminHeader = styled.header`\n    width: 100%;\n    padding: 15px 20px;\n    background: #1D2125;\n    box-shadow: rgba(0, 0, 0, .18) 0 1px 5px;\n`;\nconst AdminTitle = styled.p`\n    font-size: 24px;\n    color: #ffffff;\n`;\nconst AdminMain = styled.div`\n    width: 80%;\n    margin: auto;\n    padding: 20px;\n`;\nconst AdminButton = styled.button`\n    font-size: 20px;\n    padding: 10px 10px;\n    color: #ffffff;\n    border-radius: 3px;\n    font-family: 'Roboto Condensed';\n    font-weight: bold;\n    outline: none;\n    border: none;\n    background: rgb(231, 166, 51);\n    cursor: pointer;\n`;\nconst AdminList = styled.ul`\n    with: 100%;\n    min-height: 50vh;\n    border: rgb(231,166,51) solid 1px;\n    margin: 10px 0;\n    list-style: none;\n`;\nconst AdminItem = styled.li`\n    padding: 5px 10px;\n    border-bottom: rgba(231, 166, 51, .18) solid 1px;\n    display: flex;\n    align-items: center;\n`;\nconst DeleteItem = styled.span`\n    color: rgb(255, 0, 0);\n    margin-left: auto;\n    font-size: 20px;\n    cursor: pointer;\n`;\nconst AdminModal = styled.div`\n    width: 100%;\n    height: 100vh;\n    position: absolute;\n    top: 0;\n    left: 0;\n    background: #1D2125;\n    padding: 20px 10%;\n    display: flex;\n    flex-direction: column;\n\n    @media (max-width: 650px) {\n        padding: 20px 5%;\n    }\n`;\nconst ModalTitle = styled.h2`\n    font-size: 34px;\n    color: #ffffff;\n`;\nconst ModalForm = styled.div`\n    width: 100%;\n    margin: 20px 0;\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 5px;\n\n    @media (max-width: 650px) {\n        grid-template-columns: 100%;\n    }\n`;\nconst AdminInput = styled.input`\n    font-size: 20px;\n    border: #ffffff solid 1px;\n    border-radius: 3px;\n    background: none;\n    padding: 5px;\n    margin: 5px 0;\n    color: #ffffff;\n    font-family: 'Roboto Condensed';\n`;\nexport default AdminPanel;","map":{"version":3,"sources":["/root/Ismaelleon/client/src/routes/AdminPanel.js"],"names":["React","useEffect","useState","styled","AdminPanel","title","setTitle","date","setDate","githubURL","setGithubURL","tags","setTags","form","setForm","projects","setProjects","messages","setMessages","getMessages","getProjects","fetch","method","credentials","headers","then","res","json","submitProject","body","JSON","stringify","slice","deleteProject","projectTitle","map","project","index","fontSize","message","name","display","e","target","value","Container","div","AdminHeader","header","AdminTitle","p","AdminMain","AdminButton","button","AdminList","ul","AdminItem","li","DeleteItem","span","AdminModal","ModalTitle","h2","ModalForm","AdminInput","input"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\n\nfunction AdminPanel () {\n    let [title, setTitle] = useState(''),\n        [date, setDate] = useState(''),\n        [githubURL, setGithubURL] = useState(''),\n        [tags, setTags] = useState('');\n    let [form, setForm] = useState(false);\n    let [projects, setProjects] = useState([]);\n    let [messages, setMessages] = useState([]);\n\n    useEffect(() => {\n        // Update Messages and Projects\n        getMessages()\n        getProjects()\n    }, [])\n\n    function getProjects () {\n        fetch('http://138.197.68.249:8080/admin/get_projects', {\n            method: 'POST',\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json',\n                'Allow-Control-Allow-Origin': 'http://138.197.68.249:3000'\n            }\n        }).then(res => res.json())\n        .then(res => {\n            setProjects(res.projects)\n        })\n    }\n\n    function getMessages () {\n        fetch('http://138.197.68.249:8080/admin/get_messages', {\n            method: 'POST',\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json',\n                'Allow-Control-Allow-Origin': 'http://138.197.68.249:3000'\n            }\n        }).then(res => res.json())\n            .then(res => {\n                setMessages(res.messages)\n            })\n    }\n\n    function submitProject () {\n        fetch('http://138.197.68.249:8080/admin/new_project', {\n            method: 'POST',\n            body: JSON.stringify({\n                title: title,\n                date: date.slice(8) + \"/\" + date.slice(5, 7) + \"/\" + date.slice(0, 4),\n                githubURL: githubURL,\n                tags: tags\n            }),\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json',\n                'Allow-Control-Allow-Origin': 'http://138.197.68.249:3000'\n            }\n        }).then(() => {\n            getProjects()\n        })\n    }\n\n    function deleteProject (projectTitle) {\n        fetch('http://138.197.68.249:8080/admin/delete_project', {\n            method: 'POST',\n            body: JSON.stringify({\n                title: projectTitle\n            }),\n            credentials: 'include',\n            headers: {\n                'Content-Type': 'application/json',\n                'Allow-Control-Allow-Origin': 'http://183.197.68.249:3000'\n            }\n        }).then(res => res.json())\n            .then(res => {\n                setProjects(res.projects)\n            })\n    }\n\n    return (\n        <Container>\n            <AdminHeader>\n                <AdminTitle>Admin Panel</AdminTitle>\n            </AdminHeader>\n            <AdminMain>\n                <AdminButton onClick={() => setForm(true)}>Nuevo Proyecto</AdminButton>\n                <AdminList>\n                    {projects.map((project, index) =>\n                        <AdminItem key={index}>\n                            <div>\n                                <p style={{fontSize: '20px'}}>{project.title}</p>\n                                <p style={{fontSize: '18px'}}>{project.date}</p>\n                            </div>\n                            <DeleteItem onClick={() => deleteProject(project.title)}>Borrar</DeleteItem>\n                        </AdminItem>\n                    )}\n                </AdminList>\n                <AdminList>\n                    {messages.map((message, index) =>\n                        <AdminItem key={index}>\n                            <div>\n                                <p style={{fontSize: '20px'}}>{message.name}</p>\n                                <p style={{fontSize: '18px'}}>{message.message}</p>\n                            </div>\n                        </AdminItem>\n                    )}\n                </AdminList>\n                <AdminModal style={form ? {display: 'block'} : {display: 'none'}}>\n                    <ModalTitle>Nuevo Proyecto</ModalTitle>\n                    <ModalForm>\n                        <AdminInput onChange={e => setTitle(e.target.value)} type=\"text\" placeholder=\"TÃ­tulo\"></AdminInput>\n                        <AdminInput onChange={e => setDate(e.target.value)} type=\"date\" placeholder=\"Fecha\"></AdminInput>\n                        <AdminInput onChange={e => setGithubURL(e.target.value)} type=\"text\" placeholder=\"Github URL\"></AdminInput>\n                        <AdminInput onChange={e => setTags(e.target.value)} type=\"text\" placeholder=\"Tags\" />\n                        <AdminButton onClick={() => {submitProject(); setForm(false)}}>Guardar Proyecto</AdminButton>\n                        <AdminButton onClick={() => {setForm(false)}}>Cancelar</AdminButton>\n                    </ModalForm>\n                </AdminModal>\n            </AdminMain>\n       </Container>\n    );\n}\n\nconst Container = styled.div`\n    width: 100%;\n    height: 100vh;\n`;\n\nconst AdminHeader = styled.header`\n    width: 100%;\n    padding: 15px 20px;\n    background: #1D2125;\n    box-shadow: rgba(0, 0, 0, .18) 0 1px 5px;\n`;\n\nconst AdminTitle = styled.p`\n    font-size: 24px;\n    color: #ffffff;\n`;\n\nconst AdminMain = styled.div`\n    width: 80%;\n    margin: auto;\n    padding: 20px;\n`;\n\nconst AdminButton = styled.button`\n    font-size: 20px;\n    padding: 10px 10px;\n    color: #ffffff;\n    border-radius: 3px;\n    font-family: 'Roboto Condensed';\n    font-weight: bold;\n    outline: none;\n    border: none;\n    background: rgb(231, 166, 51);\n    cursor: pointer;\n`;\n\nconst AdminList = styled.ul`\n    with: 100%;\n    min-height: 50vh;\n    border: rgb(231,166,51) solid 1px;\n    margin: 10px 0;\n    list-style: none;\n`;\n\nconst AdminItem = styled.li`\n    padding: 5px 10px;\n    border-bottom: rgba(231, 166, 51, .18) solid 1px;\n    display: flex;\n    align-items: center;\n`;\n\nconst DeleteItem = styled.span`\n    color: rgb(255, 0, 0);\n    margin-left: auto;\n    font-size: 20px;\n    cursor: pointer;\n`;\n\nconst AdminModal = styled.div`\n    width: 100%;\n    height: 100vh;\n    position: absolute;\n    top: 0;\n    left: 0;\n    background: #1D2125;\n    padding: 20px 10%;\n    display: flex;\n    flex-direction: column;\n\n    @media (max-width: 650px) {\n        padding: 20px 5%;\n    }\n`;\n\nconst ModalTitle = styled.h2`\n    font-size: 34px;\n    color: #ffffff;\n`;\n\nconst ModalForm = styled.div`\n    width: 100%;\n    margin: 20px 0;\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 5px;\n\n    @media (max-width: 650px) {\n        grid-template-columns: 100%;\n    }\n`;\n\nconst AdminInput = styled.input`\n    font-size: 20px;\n    border: #ffffff solid 1px;\n    border-radius: 3px;\n    background: none;\n    padding: 5px;\n    margin: 5px 0;\n    color: #ffffff;\n    font-family: 'Roboto Condensed';\n`;\n\nexport default AdminPanel;\n"]},"metadata":{},"sourceType":"module"}